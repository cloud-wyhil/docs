---
title: 'チャットの仕組み'
description: 'Prometheusのチャットモードがどのように動作するのか、またエージェントモードとの違いについて説明します。'
---

# チャットの仕組み

> Prometheusのチャット機能は、IDEのサイドバーで直接AIモデルと対話できるインターフェースを提供します。

## チャットのコア機能の仕組み

チャットでの会話を開始すると、Prometheusは以下の処理を行います：

1. **コンテキストの収集**: 選択されたコードセクションや、@メンションされたコンテキストを収集します。
2. **プロンプトの構築**: 入力内容と関連するコンテキストを組み合わせます。
3. **モデルへの送信**: 設定されたAIモデルにリクエストを送信します。
4. **レスポンスのストリーミング**: AIの回答をリアルタイムでサイドバーに表示します。

## コンテキスト管理の仕組み

### 自動的に含まれるコンテキスト

* エディタで選択されているコード
* 関連性がある場合の現在のファイルのコンテキスト
* セッション内の以前の会話履歴

### 手動でのコンテキスト追加方法

* `@Files` - 特定のファイルを参照

## レスポンス処理の仕組み

AIの回答に含まれる各コードセクションには、アクションボタンが表示されます：

* **Apply to current file (現在のファイルに適用)** - 選択したコードを置き換えます
* **Insert at cursor (カーソル位置に挿入)** - カーソル位置にコードを追加します
* **Copy (コピー)** - コードをクリップボードにコピーします

## セッション管理の仕組み

* `Cmd/Ctrl + L` (VS Code) または `Cmd/Ctrl + J` (JetBrains) を使用して新しいセッションを開始します
* 以前のコンテキストをすべてクリアして、フレッシュな状態で開始できます
* 異なるタスクに切り替える際に便利です

## 高度な機能

### プロンプトの確認方法

デバッグや最適化のために、[プロンプトログ](/troubleshooting)でAIモデルに送信された正確なプロンプトを確認できます。

### コンテキスト

コンテキストを取り込む方法についての詳細は、以下をご覧ください：

* [コードベースコンテキスト](/guides/codebase-documentation-awareness)
* [ドキュメントコンテキスト](/guides/codebase-documentation-awareness)
* [組み込みコンテキストプロバイダー](/customize/deep-dives/custom-providers)

***

*チャットは、どのようなコンテキストが使用されているかを透明に保ちつつ、自然な会話のように感じられるように設計されています。*
